<app-navigation></app-navigation>
<div class="container mt-3">
  <div class="row">
    <div class="col-12">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

<div class="container-fluid">
  <div class="row d-flex justify-content-center">
    <div
      *ngFor="let game of gameList; let i = index"
      class="card mx-5 my-5"
      style="width: 18rem; border-radius: 1em"
    >
      <ng-container *ngIf="isHovered[i] === false">
        <img
          (mouseover)="onHoverGame(i)"
          class="card-img-top"
          [src]="game.banner"
          alt="Game image"
          style="border-radius: 1em 1em 0 0"
        />
      </ng-container>
      <ng-container *ngIf="isHovered[i] === true">
        <video
          (mouseout)="onHoverGame(i)"
          preload="none"
          loop
          muted
          playsinline
          autoplay
          style="border-radius: 1em 1em 0 0"
        >
          <source [src]="game.video" type="video/webm" />
        </video>
      </ng-container>
      <div class="card-body">
        <h5 class="card-title">{{ game.name }}</h5>
        <p class="card-text mt-auto">
          {{ game.price | currency }}
        </p>
      </div>
      <p *ngIf="isOnSale[i] !== 0 && game.price !== 0" class="sale-badge">
        {{ isOnSale[i] }}%
      </p>
    </div>
  </div>
</div>
